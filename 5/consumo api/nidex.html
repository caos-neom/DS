<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Consilta Paises</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
  </head>
  <body>

<div class="container-fluid">
    <di class="row d-flex justify-content-center">
        <div class="col-4 p-3">
        
            <input type="text" id="input-search" placeholder="Digite o Pais">
        <button class="btn btn btn-dark" onclick="search()">pesquisar</button>
        
        
        </div>
    </di>
</div>

<div class="container">
    <div class="row" id="countries_list">

    </div>
</div>


<script>
    function search(){
let input_search = document.querySelector('#input-search')
let countries_list = document.querySelector('#countries_list')



fetch(`https://restcountries.com/v3.1/name/${input_search.value}`)
    .then(resp => resp.json())
    .then( resp=> {

        resp.forEach(country=> {
            console.log(country)

            let img = document.createElement('img') 
            img.setAttribute('src', country.flags.svg)
            img.style.width = '100%'
            img.style.borderRadius = '8px'

            let title = document.createElement('h2')
            title.innerText = country.name.common

            let subtitulo = document.createElement('div')
            subtitulo.innerText = country.name.official

            let capital = document.createElement('div')
            capital.innerText = country.capital

            let populacao = document.createElement('p')
            populacao.innerText = country.population

            let map = document.createElement('a')
            map.setAttribute('herf', country.maps.googleMaps)
            map.innerText = 'Map'

            let continente = document.createElement('div')
            continente.innerText = country.region

            let subreg = document.createElement('div')
            subreg.innerText = country.subregion

            let border = document.createElement('h6')
            border.innerText = country.borders
            border.style.wordBreak = 'break-all'

            let indepedncia = document.createElement('div')
            indepedncia.innerText = country.independent

            let exercito = document.createElement('img')
            exercito.setAttribute('src', country.coatOfArms.svg)
            exercito.style.width = '100%'
            exercito.style.borderRadius = '8px'

            let timezones = document.createElement('div')
            timezones.innerText = country.timezones

            let moeda = document.createElement('div')
            moeda.innerText = Object.keys(country.currencies)

            let lingua = document.createElement('div')
            lingua.innerText = Object.keys(country.languages)

            let local = document.createElement('div')
            local.innerText = country.latlng
           

            let col = document.createElement('div')
            col.classList.add("col-4")

            
            col.appendChild(img)
            col.appendChild(title)
            col.appendChild(subtitulo)
            col.appendChild(capital)
            col.appendChild(populacao)
            col.appendChild(map)
            col.appendChild(continente)
            col.appendChild(subreg)            
            col.appendChild(border)        
            col.appendChild(indepedncia)        
            col.appendChild(exercito)        
            col.appendChild(timezones)     
            col.appendChild(moeda)  
            col.appendChild(lingua) 
            col.appendChild(local)   
            countries_list.appendChild(col)
        })
    })
    .catch(erro => {
        console.log(erro)
    })
    .finally(()=>{
        console.log('requisição finalizada')
  })
}
   
    
    
    
    
    
    
    
</script>









    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
  </body>
</html>